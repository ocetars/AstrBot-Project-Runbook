# å‘å¸ƒï¼šèŠ‚å¥ä¸Žç‰ˆæœ¬åŒ–
æœ¬ç¯‡å®šä¹‰ SemVer å¯¹é½çš„å‘å¸ƒèŠ‚å¥ã€RC ç°åº¦ã€å›žæ»šä¸Žåˆ—è½¦å¼å‘ç‰ˆã€‚

# AstrBot ç‰ˆæœ¬å‘å¸ƒä¸Žç®¡ç†ç­–ç•¥

è¿™ä»½æ–‡æ¡£çš„ç›®æ ‡æ˜¯**ç»Ÿä¸€å‘ç‰ˆèŠ‚å¥å…±è¯†**ï¼Œå¹¶å‘ç¤¾åŒºä¼ é€’**ä¸“ä¸šä¸Žç¨³å®š**çš„ä¿¡å·ã€‚
 `RELEASE_STRATEGY.md` 

## 1. ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€å¥—ä¸¥æ ¼çš„å‘ç‰ˆç­–ç•¥ï¼Ÿ

éšç€ AstrBot ç¤¾åŒºè§„æ¨¡å³å°†è¾¾åˆ° 15K+ Starï¼Œç”¨æˆ·ç¾¤ä½“å·²ç»åˆ†åŒ–ä¸ºâ€œå°é²œç”¨æˆ·â€å’Œâ€œæ±‚ç¨³çš„ç”Ÿäº§çŽ¯å¢ƒç”¨æˆ·â€ã€‚æˆ‘ä»¬éœ€è¦ä¸€å¥—ä¸¥æ ¼çš„å‘ç‰ˆç­–ç•¥ï¼Œä¸»è¦åŽŸå› å¦‚ä¸‹ï¼š

*   **å»ºç«‹ç”¨æˆ·ä¿¡ä»»ï¼š** ç”¨æˆ·éœ€è¦çŸ¥é“ä»€ä¹ˆæ—¶å€™æ›´æ–°æ˜¯å®‰å…¨çš„ã€‚é¢‘ç¹çš„ç ´åæ€§æ›´æ–°æˆ–ä¸ç¨³å®šç‰ˆæœ¬ä¼šæ¶ˆè€—ç”¨æˆ·çš„è€å¿ƒå’Œä¿¡ä»»ã€‚
*   **é™ä½Žç»´æŠ¤è´Ÿæ‹…ï¼š** å°† Bug æ‹¦æˆªåœ¨å‘å¸ƒä¹‹å‰ï¼ˆRC é˜¶æ®µï¼‰ï¼Œè¿œæ¯”å‘å¸ƒåŽç´§æ€¥æ•‘ç«ï¼ˆPatch é˜¶æ®µï¼‰æˆæœ¬ä½Žå¾—å¤šã€‚
*   **æ˜Žç¡®æ²Ÿé€šè¯­è¨€ï¼š** ç‰ˆæœ¬å·ä¸æ˜¯éšæœºæ•°å­—ï¼Œå®ƒæ˜¯ç»´æŠ¤è€…ä¸Žç”¨æˆ·æ²Ÿé€šçš„åè®®ã€‚é€šè¿‡ç‰ˆæœ¬å·ï¼Œç”¨æˆ·åº”èƒ½åˆ¤æ–­ï¼š*â€œæˆ‘éœ€è¦å‡çº§å—ï¼Ÿâ€*

## 2. æ ¸å¿ƒæ ‡å‡†ï¼šè¯­ä¹‰åŒ–ç‰ˆæœ¬ (SemVer)

æœ¬é¡¹ç›®ä¸¥æ ¼éµå¾ª [Semantic Versioning 2.0.0](https://semver.org/) è§„èŒƒã€‚

### ä¸ºä»€ä¹ˆé€‰æ‹© SemVerï¼Ÿ
*   **ç”Ÿæ€é€šç”¨æ€§ï¼š** å®ƒæ˜¯ NPMã€Dockerã€GitHub ä»¥åŠç»å¤§å¤šæ•°å¼€æºè½¯ä»¶çš„é€šç”¨ç‰ˆæœ¬å·æŽ§åˆ¶æ–¹æ¡ˆã€‚
*   **ä¾èµ–ç®¡ç†å®‰å…¨ï¼š** éµå¾ª SemVer å¯ä»¥è®©ç”¨æˆ·çš„ä¾èµ–ç®¡ç†å·¥å…·ï¼ˆå¦‚ Dependabotï¼‰è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦å®‰å…¨æ›´æ–°ï¼Œé¿å…â€œä¾èµ–åœ°ç‹±â€ã€‚

## 3. ç‰ˆæœ¬å·å®šä¹‰ä¸Žåˆ†æ”¯æ˜ å°„è¯¦è§£

æˆ‘ä»¬å°†ç‰ˆæœ¬å·æ ¼å¼å®šä¸º `X.Y.Z` (Major.Minor.Patch)ï¼Œå¹¶è¾…ä»¥é¢„å‘å¸ƒæ ‡è¯† `rc` (Release Candidate)ã€‚

ç»“åˆæˆ‘ä»¬çš„ **ä¸‰å±‚åˆ†æ”¯æž¶æž„ (Dev -> Beta -> Master)**ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š

### 3.1 ðŸŸ¢ Major (ä¸»ç‰ˆæœ¬å·) `X.0.0`
*   **å«ä¹‰ï¼š** åŒ…å«**ä¸å…¼å®¹çš„ API å˜æ›´**æˆ–æž¶æž„é‡æž„ã€‚
*   **ç”¨æˆ·é¢„æœŸï¼š** *â€œæˆ‘å¯èƒ½éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæˆ–è€…é‡å†™æˆ‘çš„æ’ä»¶æ‰èƒ½å‡çº§ã€‚â€*
*   **åˆ†æ”¯æ“ä½œï¼š** æ¶‰åŠåº•å±‚çš„é‡å¤§é‡æž„ï¼Œé€šå¸¸ä¼´éšç€é•¿æœŸçš„ Dev å¼€å‘å’Œè¯¦å°½çš„è¿ç§»æ–‡æ¡£ã€‚

### 3.2 ðŸ”µ Minor (æ¬¡ç‰ˆæœ¬å·) `1.Y.0` â€”â€” ä¸»åŠ›å‘ç‰ˆ
*   **å«ä¹‰ï¼š** åŒ…å«**å‘åŽå…¼å®¹çš„æ–°åŠŸèƒ½** (New Features)ã€‚
*   **ç”¨æˆ·é¢„æœŸï¼š** *â€œæœ‰æ–°ä¸œè¥¿çŽ©äº†ï¼Œä¸”æˆ‘çš„æ—§é…ç½®ä¾ç„¶èƒ½è·‘ã€‚â€*
*   **åˆ†æ”¯æ“ä½œï¼š**
    *   è¿™æ˜¯æˆ‘ä»¬çš„å¸¸è§„å‘ç‰ˆä¸»åŠ›ã€‚
    *   å½“ `Beta` åˆ†æ”¯ç°åº¦éªŒè¯å‘ç‰ˆæ—¶ï¼Œ`Y` è‡ªåŠ¨åŠ  1ã€‚

### 3.3 ðŸ”´ Patch (ä¿®è®¢å·) `1.1.Z` â€”â€” ç´§æ€¥ä¿®å¤æ­£å¼ç‰ˆçš„ bugï¼ˆç½•è§è§¦å‘ï¼‰
*   **å«ä¹‰ï¼š** åŒ…å«**å‘åŽå…¼å®¹çš„ Bug ä¿®å¤** (Bug Fixes)ï¼Œ**ç»ä¸**åŒ…å«æ–°åŠŸèƒ½ã€‚
*   **ç”¨æˆ·é¢„æœŸï¼š** *â€œè™½ç„¶æ²¡æ–°åŠŸèƒ½ï¼Œä½†æˆ‘å¿…é¡»å‡çº§ï¼Œå› ä¸ºå®ƒä¿®å¥½äº†æ˜¨å¤©çš„é‚£ä¸ªæŠ¥é”™ã€‚â€*
*   **åˆ†æ”¯æ“ä½œï¼š**
    *   ä»…å½“ `Master` åˆ†æ”¯å‡ºçŽ°ä¸¥é‡ Bug æ—¶è§¦å‘ã€‚
    *   ä»£ç éœ€éµå¾ª **Upstream First** åŽŸåˆ™ï¼šå…ˆåœ¨ `Dev` ä¿®å¤ -> Cherry-pick åˆ° `Beta` -> ç®€å• Beta æµ‹è¯•åŽåˆå¹¶å…¥ `Master`ã€‚

### 3.4 ðŸŸ¡ RC (å€™é€‰ç‰ˆæœ¬) `1.Y.0-rc.x`
*   **å«ä¹‰ï¼š** æ­£å¼å‘å¸ƒå‰çš„**æµ‹è¯•é¢„è§ˆç‰ˆ**ã€‚
*   **åˆ†æ”¯å¯¹åº”ï¼š** **Beta åˆ†æ”¯** ä¸“å±žç‰ˆæœ¬å·ã€‚
*   **è¿ä½œæœºåˆ¶ï¼š**
    *   åœ¨ Minor ç‰ˆæœ¬å‘å¸ƒå‘¨æœŸå†…ï¼ŒDev ä»£ç åˆå¹¶å…¥ Beta åŽï¼Œæ ‡è®°ä¸º `rc.1`ã€‚
    *   è‹¥æµ‹è¯•å‘çŽ° Bugï¼Œä¿®å¤åŽå‘å¸ƒ `rc.2`ã€‚
    *   **RC çš„ä½¿å‘½æ˜¯æ‹¦æˆª Bugï¼Œé¿å…å®ƒä»¬å˜æˆ Patchã€‚**

---

## 4. å‘ç‰ˆé¢‘çŽ‡å»ºè®®ï¼šåŒå‘¨è¿­ä»£åˆ¶ (Bi-weekly Release Train)

ä¸ºäº†å¹³è¡¡â€œå¿«é€Ÿè¿­ä»£â€ä¸Žâ€œç¨³å®šæ€§â€ï¼Œæˆ‘ä»¬ä¸å†æŒ‰åŠŸèƒ½å‘ç‰ˆï¼Œè€Œæ˜¯**æŒ‰æ—¶é—´å‘ç‰ˆï¼ˆRelease Trainï¼‰**ã€‚

| å‘¨æœŸé˜¶æ®µ | æ—¶é—´èŠ‚ç‚¹ | åŠ¨ä½œ (Action) | ç‰ˆæœ¬çŠ¶æ€ |
| :--- | :--- | :--- | :--- |
| **å¼€å‘æœŸ** | Week 1 - Week 2 (Wed) | ä½œè€…åœ¨ `Dev` åˆ†æ”¯æŒç»­æäº¤ä»£ç ï¼Œæ— éœ€å‘ç‰ˆã€‚ | `n/a` |
| **å†»ç»“/ç°åº¦** | Week 2 (Wed) | **Cut-off (æˆªæ–­)**ï¼šå°† `Dev` åˆå¹¶å…¥ `Beta`ã€‚`Beta`ä¸å†æŽ¥å—æ–°åŠŸèƒ½ï¼Œåªä¿® Bugã€‚å‘å¸ƒ RCã€‚ | `v1.3.0-rc.1` |
| **éªŒè¯æœŸ** | Week 2 (Thu - Sun) | ç¤¾åŒºæ ¸å¿ƒç”¨æˆ·åœ¨ `Beta` åˆ†æ”¯è¿›è¡Œæµ‹è¯•ã€‚è‹¥å‘çŽ° Bugï¼Œé€šè¿‡ `Dev` ä¿®å¤å¹¶Cherry-pick ä¿®å¤çš„ commit åˆ°`Beta`å‘å¸ƒ rc.2, rc.3ã€‚ | `v1.3.0-rc.2` |
| **æ­£å¼å‘å¸ƒ** | **Week 3 (Mon)** | è‹¥ Beta ç¨³å®šï¼Œåˆå¹¶å…¥ `Master`ã€‚å‘å¸ƒ Release ï¼ŒæŽ¨ Docker latestã€‚ | `v1.3.0` |

*   **Patch å‘å¸ƒï¼š** æ— å›ºå®šé¢‘çŽ‡ã€‚ä»…åœ¨ç”Ÿäº§çŽ¯å¢ƒå‘ç”Ÿ P0/P1 çº§äº‹æ•…æ—¶ï¼Œéšæ—¶è¿›è¡Œã€‚
*   **Major å‘å¸ƒï¼š** æžä½Žé¢‘ï¼ˆ> 6ä¸ªæœˆï¼‰ã€‚

---